# Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
utmn-security/
â”‚
â”œâ”€â”€ ğŸ“ Frontend (React + TypeScript + Vite)
â”‚   â”œâ”€â”€ components/              # React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ ui/                 # Shadcn UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (27 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ figma/              # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ°Ñ€Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”‚   â””â”€â”€ ImageWithFallback.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DashboardBuilder.tsx      # ĞšĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ EmployeesReportPage.tsx   # ĞÑ‚Ñ‡ĞµÑ‚ Ğ¿Ğ¾ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ°Ğ¼
â”‚   â”‚   â”œâ”€â”€ IdentifierSearchPage.tsx  # ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñƒ
â”‚   â”‚   â”œâ”€â”€ LocationPage.tsx          # Ğ“Ğ´Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx             # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”‚   â”œâ”€â”€ Logo.tsx                  # Ğ›Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿ Ğ¢ÑĞ¼Ğ“Ğ£
â”‚   â”‚   â”œâ”€â”€ MainPage.tsx              # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° + Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ ParkingPage.tsx           # ĞŸĞ°Ñ€ĞºĞ¾Ğ²Ğ¾Ñ‡Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
â”‚   â”‚   â”œâ”€â”€ PassesReportPage.tsx      # ĞÑ‚Ñ‡ĞµÑ‚ Ğ¾ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ°Ñ…
â”‚   â”‚   â”œâ”€â”€ RoleSwitcher.tsx          # ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ Ñ€Ğ¾Ğ»ĞµĞ¹ (demo)
â”‚   â”‚   â”œâ”€â”€ RolesManagementPage.tsx   # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ¾Ğ»ÑĞ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ StudentsReportPage.tsx    # ĞÑ‚Ñ‡ĞµÑ‚ Ğ¿Ğ¾ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ°Ğ¼
â”‚   â”‚   â”œâ”€â”€ UnderConstructionPage.tsx # Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ° Ğ´Ğ»Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
â”‚   â”‚   â”œâ”€â”€ UserLogsPage.tsx          # Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”‚   â”‚   â””â”€â”€ UsersSettingsPage.tsx     # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/               # React Context
â”‚   â”‚   â””â”€â”€ AuthContext.tsx    # ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                   # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”‚   â””â”€â”€ api.ts            # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚   â”‚
â”‚   â”œâ”€â”€ public/               # ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”‚   â”‚   â””â”€â”€ logo.svg         # SVG Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/              # Ğ¡Ñ‚Ğ¸Ğ»Ğ¸
â”‚   â”‚   â”œâ”€â”€ globals.css      # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ CSS + Tailwind
â”‚   â”‚   â””â”€â”€ datepicker-custom.css  # ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx              # ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
â”‚   â”œâ”€â”€ main.tsx             # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”œâ”€â”€ index.html           # HTML ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½
â”‚   â”œâ”€â”€ package.json         # Frontend Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”‚   â”œâ”€â”€ vite.config.ts       # Vite ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (HTTP)
â”‚   â”œâ”€â”€ vite.config.https.ts # Vite ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (HTTPS)
â”‚   â”œâ”€â”€ tailwind.config.js   # Tailwind CSS
â”‚   â”œâ”€â”€ tsconfig.json        # TypeScript ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â””â”€â”€ postcss.config.js    # PostCSS ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚
â”œâ”€â”€ ğŸ“ Backend (Node.js + Express)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/          # ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹ API
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.js   # ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚   â””â”€â”€ user.controller.js   # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ routes/               # ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ API
â”‚   â”‚   â”‚   â”œâ”€â”€ accessLog.routes.js   # Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¾Ğ²
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.routes.js   # ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.js        # ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚   â”œâ”€â”€ employee.routes.js    # Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ parking.routes.js     # ĞŸĞ°Ñ€ĞºĞ¾Ğ²ĞºĞ°
â”‚   â”‚   â”‚   â”œâ”€â”€ role.routes.js        # Ğ Ğ¾Ğ»Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ storage.routes.js     # Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
â”‚   â”‚   â”‚   â”œâ”€â”€ student.routes.js     # Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”‚   â””â”€â”€ user.routes.js        # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ middleware/           # Middleware
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js              # JWT Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js      # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
â”‚   â”‚   â”‚   â””â”€â”€ rateLimiter.js       # Rate limiting
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ config/              # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚   â””â”€â”€ database.js         # ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº MySQL
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ server.js            # HTTP ÑĞµÑ€Ğ²ĞµÑ€ (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹)
â”‚   â”‚   â””â”€â”€ server-https.js      # HTTPS ÑĞµÑ€Ğ²ĞµÑ€
â”‚   â”‚
â”‚   â””â”€â”€ package.json             # Backend Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”‚
â”œâ”€â”€ ğŸ“ Database (MySQL)
â”‚   â”œâ”€â”€ schema.sql               # SQL ÑÑ…ĞµĞ¼Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”‚
â”‚   â””â”€â”€ Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ (11):
â”‚       â”œâ”€â”€ users                   # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
â”‚       â”œâ”€â”€ roles                   # Ğ Ğ¾Ğ»Ğ¸
â”‚       â”œâ”€â”€ permissions             # ĞŸÑ€Ğ°Ğ²Ğ°
â”‚       â”œâ”€â”€ role_permissions        # Ğ Ğ¾Ğ»Ğ¸ â†” ĞŸÑ€Ğ°Ğ²Ğ°
â”‚       â”œâ”€â”€ role_external_groups    # AD/SSO Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹
â”‚       â”œâ”€â”€ students                # Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹
â”‚       â”œâ”€â”€ employees               # Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸
â”‚       â”œâ”€â”€ access_logs             # Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¾Ğ²
â”‚       â”œâ”€â”€ parking                 # ĞŸĞ°Ñ€ĞºĞ¾Ğ²ĞºĞ°
â”‚       â”œâ”€â”€ storage                 # Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
â”‚       â””â”€â”€ user_logs               # Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”‚
â”œâ”€â”€ ğŸ“ Nginx (Reverse Proxy)
â”‚   â”œâ”€â”€ nginx.conf                    # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ production.conf               # Production
â”‚   â”œâ”€â”€ utmn-security.conf           # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ
â”‚   â”œâ”€â”€ utmn-security-dev.conf       # Dev
â”‚   â”œâ”€â”€ utmn-security-external.conf  # External
â”‚   â””â”€â”€ utmn-security-http.conf      # HTTP
â”‚
â”œâ”€â”€ ğŸ“ Scripts (Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹)
â”‚   â”œâ”€â”€ create-admin.sql            # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ°
â”‚   â”œâ”€â”€ generate-password.js        # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹
â”‚   â”œâ”€â”€ generate-ssl-cert.sh        # SSL ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ñ‹
â”‚   â””â”€â”€ setup-nginx.sh              # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Nginx
â”‚
â”œâ”€â”€ ğŸ“ Systemd (ĞĞ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿ÑƒÑĞº)
â”‚   â””â”€â”€ utmn-security.service      # Systemd ÑĞµÑ€Ğ²Ğ¸Ñ
â”‚
â”œâ”€â”€ ğŸ“ Documentation (Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ)
â”‚   â”œâ”€â”€ README.md                   # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ START.md                    # Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
â”‚   â”œâ”€â”€ QUICK_REFERENCE.md          # Ğ¨Ğ¿Ğ°Ñ€Ğ³Ğ°Ğ»ĞºĞ°
â”‚   â”œâ”€â”€ MYSQL_EXTERNAL_ACCESS.md    # MySQL Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
â”‚   â”œâ”€â”€ DEVELOPER_GUIDE.md          # Ğ”Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²
â”‚   â”œâ”€â”€ API_DOCUMENTATION.md        # API docs
â”‚   â”œâ”€â”€ CHANGELOG.md                # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md        # Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (ÑÑ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»)
â”‚   â”œâ”€â”€ Attributions.md             # ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ†Ğ¸Ğ¸ (Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½)
â”‚   â””â”€â”€ guidelines/Guidelines.md    # Ğ“Ğ°Ğ¹Ğ´Ğ»Ğ°Ğ¹Ğ½Ñ‹ (Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½)
â”‚
â””â”€â”€ ğŸ“ Deployment Scripts (Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ)
    â”œâ”€â”€ deploy.sh                   # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ
    â”œâ”€â”€ deploy-http.sh              # HTTP Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
    â”œâ”€â”€ deploy-external.sh          # External Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
    â”œâ”€â”€ setup-mysql-external.sh     # MySQL Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
    â”œâ”€â”€ check-status.sh             # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°
    â”œâ”€â”€ reset-database.sh           # Ğ¡Ğ±Ñ€Ğ¾Ñ Ğ‘Ğ”
    â”œâ”€â”€ start-with-database.sh      # Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ Ğ‘Ğ”
    â”œâ”€â”€ stop-servers.sh             # ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ²
    â”œâ”€â”€ fix-all.sh                  # Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
    â”œâ”€â”€ fix-imports.sh              # Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²
    â”œâ”€â”€ make-executable.sh          # Ğ¡Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼Ñ‹Ğ¼Ğ¸
    â””â”€â”€ create-release.sh           # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ»Ğ¸Ğ·Ğ°
```

## Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

### ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ UI:        27 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ React:       13 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
Backend routes:       9 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
Nginx ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸:        5 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
SQL Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹:          11 Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†
Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ:         9 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ: 13 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
```

### Ğ¯Ğ·Ñ‹ĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```
TypeScript (Frontend):  ~15,000 ÑÑ‚Ñ€Ğ¾Ğº
JavaScript (Backend):   ~3,500 ÑÑ‚Ñ€Ğ¾Ğº
SQL (Database):         ~1,000 ÑÑ‚Ñ€Ğ¾Ğº
Shell Scripts:          ~2,000 ÑÑ‚Ñ€Ğ¾Ğº
CSS/Tailwind:          ~500 ÑÑ‚Ñ€Ğ¾Ğº
ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ:          ~300 ÑÑ‚Ñ€Ğ¾Ğº
```

### Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

**Frontend (package.json):**
- React 18
- TypeScript
- Vite
- Tailwind CSS
- Shadcn/ui
- date-fns
- lucide-react
- recharts
- xlsx
- mqtt
- react-grid-layout
- Ğ˜ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ...

**Backend (backend/package.json):**
- Express
- mysql2
- bcrypt
- jsonwebtoken
- cors
- dotenv
- express-rate-limit

## ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

### ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

| Ğ¤Ğ°Ğ¹Ğ» | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|----------|
| `vite.config.ts` | Vite bundler ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ |
| `tailwind.config.js` | Tailwind CSS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ |
| `tsconfig.json` | TypeScript ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ‚Ğ¾Ñ€ |
| `backend/.env` | Backend Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ |
| `nginx/*.conf` | Nginx reverse proxy |

### Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ°

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¤Ğ°Ğ¹Ğ» |
|-----------|------|
| Frontend | `main.tsx` â†’ `App.tsx` |
| Backend | `backend/src/server.js` |
| Database | `database/schema.sql` |
| Systemd | `systemd/utmn-security.service` |

### API Endpoints

Ğ’ÑĞµ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ñ‹ Ğ²:
```
backend/src/routes/*.routes.js
```

Ğ˜ Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ²:
```
backend/src/server.js
```

## ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTP
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Nginx    â”‚ :80
â”‚  (Reverse   â”‚
â”‚   Proxy)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â–º Frontend (Vite) :5173
       â”‚       â””â”€â”€â”€ React Components
       â”‚            â””â”€â”€â”€ API Client (lib/api.ts)
       â”‚
       â””â”€â”€â”€â”€â”€â–º Backend (Express) :3001
               â”œâ”€â”€â”€ Routes
               â”œâ”€â”€â”€ Controllers
               â”œâ”€â”€â”€ Middleware (Auth, Rate Limit)
               â””â”€â”€â”€ MySQL :3306
                    â””â”€â”€â”€ 11 Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†
```

## Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°

```
users (username, password, role)
  â”‚
  â””â”€â”€â–º roles (name, displayName)
         â”‚
         â”œâ”€â”€â–º role_permissions
         â”‚      â””â”€â”€â–º permissions (name, description)
         â”‚
         â””â”€â”€â–º role_external_groups (Ğ´Ğ»Ñ AD/SSO)
                â””â”€â”€â–º external group mappings
```

## Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

### Development

```bash
# Frontend
npm run dev          # â†’ http://localhost:5173

# Backend
cd backend
npm start            # â†’ http://localhost:3001
```

### Production

```bash
# ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
sudo ./deploy.sh

# Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ÑÑ:
- /opt/utmn-security/           # ĞšĞ¾Ğ´
- /etc/nginx/sites-available/   # Nginx ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³
- /etc/systemd/system/          # Systemd ÑĞµÑ€Ğ²Ğ¸Ñ
- /var/log/nginx/               # Ğ›Ğ¾Ğ³Ğ¸
```

## ĞŸĞ¾Ñ€Ñ‚Ñ‹

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸĞ¾Ñ€Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|--------|------|----------|
| Nginx | 80 | HTTP (public) |
| Vite | 5173 | Frontend dev server |
| Express | 3001 | Backend API |
| MySQL | 3306 | Database |

## Ğ›Ğ¾Ğ³Ğ¸

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞŸÑƒÑ‚ÑŒ |
|-----------|------|
| Backend | `journalctl -u utmn-security` |
| Nginx | `/var/log/nginx/error.log` |
| MySQL | `/var/log/mysql/error.log` |

---

**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 23.01.2026  
**Ğ’ĞµÑ€ÑĞ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:** 1.0
